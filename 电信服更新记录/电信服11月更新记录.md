---
title: 电信服11月更新记录
updated: 2022-10-28 08:28:02Z
created: 2022-10-28 07:18:14Z
latitude: 22.27602200
longitude: 114.17514710
altitude: 0.0000
---

# 特感增强插件
- ai_tank2.sp 增加了梯子检测功能，并且删除了tank后退动作的连跳处理，修复了tank可能会纵云梯大跳的问题
- ai_jockey_new.sp 修复了猴子被推后马上就能通过使用跳跃功能来恢复重新使用技能导致的问题
- ai_hunter_new.sp 同步上游更新，垂直高度限制为8°，200单位外不会直接扑
- l4d_target_override.sp 升级为最新版本，增加了targeted功能，能限制生还者被选为目标的数量，稍微修改部分特感的目标顺序，hunter smoker会优先攻击正在拉人的人，tank允许攻击被smoker控的人(一拳24比被smoker拖24快多了，而且克局smoker队友也比较好救)
- SI_Target_limit.smx 目标选择插件适配新版l4d_target_override插件，自动控制控制型特感选相同生还者为目标的数量
- l4d2_Anne_stuck_tank_teleport.smx 救援关不启用跑男惩罚



# 其他普通插件更新
- infected_control.smx 将5种模式的4种刷特合并为1个插件处理，
					   适配目标选择插件，选择生还者构建刷特坐标系的时候不能选目标已满的玩家
					   特感的生成顺序改为由队列进行处理，解决一波可能刷同样的特感[主要是boomer和spitter]的问题
					   原来的射线刷特方法取消，改为获取"logic_script"的值来判断[也还是射线处理，但是效率比原来快，而且效果更好]
					   检测env_physics_blocker的阻拦属性，原来不能生成的地方现在很大可能也能生成了
					   射线类型改变，由MASK_NPCSOLID_BRUSHONLY类型更改为MASK_PLAYERSOLID，能最大程度上增加可刷特位置
					   修复原来刷特IsPlayerStuck的射线过滤器的bug，会导致新版插件把射线改为MASK_PLAYERSOLID后导致的卡在新加的物件上
					   倒地玩家的视线不会影响特感的传送(相当于倒地生还视线不如狗）
					   增加最大刷特距离的控制
- rpg.smx 增加皮肤功能，且增加自动检测依赖启用不同功能的能力,修复关闭帽子无法保存到数据库的问题
- server.smx 分开为2个插件join.smx 和 server.smx，其中join.smx主要处理加入游戏后换队的问题，server.smx处理Anne等模式下特殊的一些功能
- vote.smx 投票cfg插件增加cvar来控制投票文件，表现为不同模式可投票选项不同
- text.smx插件会进行Cvar的检测，一次来避免插件加载顺序导致的无法启动的问题
- specrates, hextags, rpg, l4d_hats,l4d2_item_hint.smx ,veterans增加检测积分插件的功能，没有积分插件也不影响使用
- l4d2_weapon_attributes.smx 增加霰弹枪装填速度的Cvar控制，需要WeaponHandling作为前置插件(加载顺序无影响)
- 对抗插件全部更新最新版本，部分插件改用i18n汉化，英语汉语翻译都有(具体汉化插件和i18n汉化请看项目)

## 特感增强插件具体设置
```javascript
// Anne AI Improvement Cvar
//[infected_control.smx]
//confogl_addcvar inf_SpawnDistanceMin 250.0	//最小生成距离
confogl_addcvar inf_SpawnDistanceMax 1500.0	  //最大生成距离
confogl_addcvar inf_TeleportSi 1							//是否允许特感传送
//confogl_addcvar inf_TeleportCheckTime 5			//特感传送的条件（几秒不被看到）
confogl_addcvar inf_EnableSIoption 63				  //允许特感生成种类（全部）
confogl_addcvar inf_AllChargerMode 0				 //是否为全牛模式
confogl_addcvar inf_AllHunterMode 0					  //是否为全猎人模式
confogl_addcvar inf_IgnoreIncappedSurvivorSight 1 //倒地生还者视线不会影响传送特感次数累计(关闭，高特或者多人运动会非常消耗性能)
confogl_addcvar inf_AddDamageToSmoker 0		//是否对smoker拉人的时候增伤（给单人装逼模式用的)
confogl_addcvar inf_TeleportDistance 600.0		 //传送会根据这个数值画一个以选定生还者为核心，两边各长inf_TeleportDistance单位距离，高inf_TeleportDistance距离的长方形区域内找复活位置,PS传送最好近一点
//confogl_addcvar l4d_infected_limit 6				  //特感数量上限

//[ai_boomer_new.smx]
confogl_addcvar ai_BoomerBhop 1	//开启连跳
//confogl_addcvar ai_BoomerBhopSpeed 150 //加速度
//confogl_addcvar ai_BoomerAirAngles 60.0 //连跳速度于目标夹角大于60°调整boomer方向

//[ai_charger_2.smx]
confogl_addcvar ai_ChargerBhop 1
//confogl_addcvar ai_ChagrerBhopSpeed 90.0 
confogl_addcvar ai_ChargerChargeDistance 250.0 	//牛允许冲锋的距离
confogl_addcvar ai_ChargerExtraTargetDistance "250,400"	//在这个距离有特殊情况也会冲锋
confogl_addcvar ai_ChargerAimOffset 30.0	//目标的瞄准水平与 Charger 处在这一范围内，Charger 不会冲锋
confogl_addcvar ai_ChargerMeleeAvoid 1		//开启近战回避，大于ai_ChargerMeleeDamage血的时候不启用
confogl_addcvar ai_ChargerMeleeDamage 350 //Charger 血量小于这个值，将不会直接冲锋拿着近战的生还者
confogl_addcvar ai_ChargerTarget 1	//使用l4d_target_override目标

//[ai_tank_2.smx]
//confogl_addcvar ai_Tank_Bhop 1
confogl_addcvar ai_TankBhopSpeed 60 
//confogl_addcvar ai_Tank_StopDistance 135.0 //tank连跳到距离生还者这么远的地方停止连跳
//confogl_addcvar ai_TankAirAngleRestrict 57  //连跳速度于目标夹角大于57°调整tank方向
confogl_addcvar ai_TankConsumeRockInterval 4 //坦克在消耗位上时多少秒扔一次石头
confogl_addcvar ai_TankTarget 0 //使用l4d_target_override目标，消耗的时候用AI_Hard_SI2插件目标
confogl_addcvar ai_TankTreeDetect 1 //开启绕树检测
confogl_addcvar ai_TankAntiTreeMethod 1 //防止绕树的方法：1=选择新的目标，2=传送到绕树生还位置
confogl_addcvar ai_TankThow 1 //允许tank扔石头
//confogl_addcvar ai_TankThrowRange "250,500" //允许tank扔石头的距离

//[ai_hardsi_2.smx]
confogl_addcvar ai_TankSequencePlayBackRate 3.0 	//tank速爬速率

//[ai_hunter_new.smx]
confogl_addcvar ai_fast_pounce_proximity 1000.0 //hunter快速起扑的距离
confogl_addcvar ai_pounce_vertical_angle 8.0 	//hunter扑的垂直角度限制
confogl_addcvar ai_pounce_angle_mean 10.0 //Mean angle produced by Gaussian RNG
confogl_addcvar ai_pounce_angle_std 20.0 //One standard deviation from mean as produced by Gaussian RNG
confogl_addcvar ai_straight_pounce_proximity 200.0 	//不会直扑的距离
confogl_addcvar ai_aim_offset_sensitivity_hunter 180.0 //不会直扑的角度
confogl_addcvar ai_wall_detection_distance -1.0 //是否检测前方多少单位出有墙，有墙会随机左右45°飞，而不是向着目标飞

//[ai_jockey_new.smx]
//confogl_addcvar ai_JockeyBhopSpeed 80.0
confogl_addcvar ai_JockeyStartHopDistance 800.0 //猴子开始连跳距离
confogl_addcvar ai_JockeyStumbleRadius 50.0 //猴子震人范围

//[ai_smoker_new.smx]
confogl_addcvar ai_SmokerBhop 1
//confogl_addcvar ai_SmokerBhopSpeed 90.0 
confogl_addcvar ai_SmokerTarget 1 //Smoker优先选择的目标：1=距离最近，2=手持喷子的人（无则最近），3=落单者或超前者（无则最近），4=正在换弹的人（无则最近）
confogl_addcvar ai_SmokerMeleeAvoid 1 //Smoker的目标如果手持近战则切换目标
confogl_addcvar ai_SmokerLeftBehindDistance 7 //smoker判断落后的人与第二落后的人距离（百分比）
confogl_addcvar ai_SmokerDistantPercent 0.8  //在这个攻击范围内，能拉立即拉人（smoker攻击范围为750，*0.8)

//[ai_spitter_new.smx]
confogl_addcvar ai_SpitterBhop 1
//confogl_addcvar ai_SpitterBhopSpeed 90.0 
confogl_addcvar ai_SpitterBhopStartBhopDistance 2000.0
confogl_addcvar ai_SpitterTarget 3 //Spitter的目标选择：1=默认目标选择，2=多人的地方优先，3=被扑，撞，拉者优先（无3则2）
confogl_addcvar ai_SpitterInstantKill 0 //不开启，防止无声口水
//confogl_addcvar ai_SpitterAirAngle 55 //连跳速度于目标夹角大于55°调整spitter方向
```
# 特感伤害
```javascript
confogl_addcvar z_jockey_ride_damage 1
confogl_addcvar z_jockey_ride_damage_interval 0.25
猴子0.25秒1点伤害

confogl_addcvar z_pounce_stumble_radius 160
confogl_addcvar z_pounce_damage_interrupt 150
confogl_addcvar z_pounce_damage 2
confogl_addcvar z_pounce_damage_interval 0.2
confogl_addcvar hunter_pz_claw_dmg 6
猎人震人范围半径 每0.2秒2点伤害，近战攻击6点伤害

confogl_addcvar tongue_break_from_damage_amount 251
给舌头造成250伤害，舌头才会断开，意味着除非打死舌头，或者打断舌头才能救人
confogl_addcvar tongue_drag_damage_amount 1
confogl_addcvar tongue_choke_damage_amount 1
confogl_addcvar tongue_choke_damage_interval 0.2
舌头造成的伤害应该时10.2s1点

confogl_addcvar vs_tank_damage 24
confogl_addcvar tank_attack_range 75
confogl_addcvar tank_swing_range 75
confogl_addcvar vs_tank_pound_damage 100
confogl_addcvar vs_tank_rock_damage 36
tank近战攻击24点伤害，石头36点伤害，攻击倒地的人伤害为100，近战攻击距离为75

confogl_addcvar z_charger_pound_dmg 15
confogl_addcvar charger_pz_claw_dmg 8 
砸地锤人，一次15点，近战打人8点，携带人撞墙10点

confogl_addcvar z_notice_it_range                     950
boomer_horde_amount 1 12  // 12 Common spawned for the 1st Survivor boomed + Wandering common in z_notice_it_range
boomer_horde_amount 2 13  // 13 Common spawned for the 2nd Survivor boomed + Wandering common in z_notice_it_range
boomer_horde_amount 3 10  // 10 Common spawned for the 3rd Survivor boomed + Wandering common in z_notice_it_range
boomer_horde_amount 4 10  // 10 Common spawned for the 4th Survivor boomed + Wandering common in z_notice_it_range
boomer喷1个人13 2个25 3个35 4个45
原版应该时每个15，但是不确定一定有这么多

//[l4d2_uniform_spit.smx]
confogl_addcvar l4d2_spit_dmg 2
confogl_addcvar l4d2_spit_alternate_dmg 3
confogl_addcvar l4d2_spit_max_ticks 34
confogl_addcvar l4d2_spit_godframe_ticks 4
口水一共持续34tick，其中前4tick无伤害，后面30tick功能造成(2*15 + 3 * 15 PS:2，3点伤害交替)共75点伤害
```

# 小僵尸数量设置
```javascript
// ZoneMod 4v4 Cvars
//confogl_addcvar z_common_limit 24
confogl_addcvar z_ghost_delay_min 15
confogl_addcvar z_ghost_delay_max 15
//confogl_addcvar z_mega_mob_size 45
//confogl_addcvar z_mob_spawn_min_size 15
//confogl_addcvar z_mob_spawn_max_size 15
confogl_addcvar z_mob_spawn_min_interval_normal 3600
confogl_addcvar z_mob_spawn_max_interval_normal 3600
confogl_addcvar z_mob_spawn_min_interval_expert 3600
confogl_addcvar z_mob_spawn_max_interval_expert 3600
```

# 枪械改动
相比原版本，uzi的扩散和距离衰减进行了削弱
smg spreadpershot 0.20 -> 0.22
smg rangemod 0.84 -> 0.81
具体伤害如下
## AnneHappy
```javascript
sm_weapon_attributes_reset
sm_shotgun_reloadspeed 1.1
// [l4d2_smg_reload_tweak.smx]
confogl_addcvar l4d2_reload_speed_silenced_smg 1.92
confogl_addcvar l4d2_reload_speed_uzi 1.75

/////////////////////////////
// [Static shotgun spread] //
/////////////////////////////

// First ring settings
confogl_addcvar sgspread_ring1_bullets 8
confogl_addcvar sgspread_ring1_factor  2    // Does not affect the actual first ring, just the distance between ring 1 and 2 (Only affects pump)
confogl_addcvar sgspread_center_pellet 0

/////////////////////////////
//  [SMG Tweaks 'n Stuff]  //
/////////////////////////////
sm_weapon smg damage 23
sm_weapon smg spreadpershot 0.22
sm_weapon smg maxmovespread 1.65
sm_weapon smg rangemod 0.81
sm_weapon smg_silenced spreadpershot 0.26
sm_weapon smg_silenced maxmovespread 1.75
sm_weapon smg_silenced rangemod 0.84
/////////////////////////////////
//  [Shotgun Tweaks 'n Stuff]  //
/////////////////////////////////
sm_weapon shotgun_chrome damage 16
sm_weapon shotgun_chrome bullets 16
sm_weapon shotgun_chrome scatterpitch 2.0
sm_weapon shotgun_chrome scatteryaw 2.0
sm_weapon pumpshotgun damage 14
sm_weapon pumpshotgun bullets 20
sm_weapon pumpshotgun scatterpitch 3.0
sm_weapon pumpshotgun scatteryaw 3.0
//////////////////////////////
sm_weapon sniper_scout damage 125
sm_weapon sniper_scout tankdamagemult 0.8
sm_weapon sniper_scout cycletime 0.5
sm_weapon sniper_awp damage 300
sm_weapon sniper_awp clipsize 20
sm_weapon sniper_awp tankdamagemult 0.7
sm_weapon weapon_grenade_launcher clipsize 3
sm_weapon weapon_rifle_m60 clipsize 999
```

## AnneHappyPlus
```javascript
sm_weapon_attributes_reset
sm_shotgun_reloadspeed 1.2
// [l4d2_smg_reload_tweak.smx]
confogl_addcvar l4d2_reload_speed_silenced_smg 1.92
confogl_addcvar l4d2_reload_speed_uzi 1.75

/////////////////////////////
// [Static shotgun spread] //
/////////////////////////////

// First ring settings
confogl_addcvar sgspread_ring1_bullets 8
confogl_addcvar sgspread_ring1_factor  2    // Does not affect the actual first ring, just the distance between ring 1 and 2 (Only affects pump)
confogl_addcvar sgspread_center_pellet 0

/////////////////////////////
//  [SMG Tweaks 'n Stuff]  //
/////////////////////////////
sm_weapon smg damage 25
sm_weapon smg spreadpershot 0.22
sm_weapon smg maxmovespread 1.65
sm_weapon smg rangemod 0.81
sm_weapon smg tankdamagemult 0.91
sm_weapon smg_silenced damage 27
sm_weapon smg_silenced spreadpershot 0.26
sm_weapon smg_silenced maxmovespread 1.75
sm_weapon smg_silenced rangemod 0.84
sm_weapon smg_silenced tankdamagemult 0.92
/////////////////////////////////
//  [Shotgun Tweaks 'n Stuff]  //
/////////////////////////////////
sm_weapon shotgun_chrome damage 17
sm_weapon shotgun_chrome bullets 18
sm_weapon shotgun_chrome scatterpitch 2.0
sm_weapon shotgun_chrome scatteryaw 2.0
sm_weapon shotgun_chrome tankdamagemult 0.94
sm_weapon pumpshotgun damage 16
sm_weapon pumpshotgun bullets 20
sm_weapon pumpshotgun scatterpitch 3.0
sm_weapon pumpshotgun scatteryaw 3.0
sm_weapon pumpshotgun tankdamagemult 0.88
//////////////////////////////
sm_weapon sniper_scout damage 125
sm_weapon sniper_scout tankdamagemult 0.8
sm_weapon sniper_scout cycletime 0.5
sm_weapon sniper_awp damage 300
sm_weapon sniper_awp clipsize 20
sm_weapon sniper_awp tankdamagemult 0.7
sm_weapon weapon_grenade_launcher clipsize 3
sm_weapon weapon_rifle_m60 clipsize 999
```

## zonemod
```javascript
sm_weapon_attributes_reset
sm_shotgun_reloadspeed 1.0
// [l4d2_smg_reload_tweak.smx]
confogl_addcvar l4d2_reload_speed_silenced_smg 1.92
confogl_addcvar l4d2_reload_speed_uzi 1.75

/////////////////////////////
// [Static shotgun spread] //
/////////////////////////////

// First ring settings
confogl_addcvar sgspread_ring1_bullets 8
confogl_addcvar sgspread_ring1_factor  2    // Does not affect the actual first ring, just the distance between ring 1 and 2 (Only affects pump)
confogl_addcvar sgspread_center_pellet 0

/////////////////////////////
//  [SMG Tweaks 'n Stuff]  //
/////////////////////////////
sm_weapon smg spreadpershot 0.26
sm_weapon smg maxmovespread 2.45
sm_weapon smg damage 23
sm_weapon smg rangemod 0.78
sm_weapon smg_silenced spreadpershot 0.28
sm_weapon smg_silenced maxmovespread 2.60
sm_weapon smg_silenced rangemod 0.81


/////////////////////////////////
//  [Shotgun Tweaks 'n Stuff]  //
/////////////////////////////////
sm_weapon shotgun_chrome scatterpitch 4.5
sm_weapon shotgun_chrome scatteryaw 5.5
sm_weapon pumpshotgun damage 17
sm_weapon pumpshotgun bullets 16
sm_weapon pumpshotgun scatterpitch 3
sm_weapon pumpshotgun scatteryaw 5
```


# 性能问题
当前刷特版本不多人运动情况下，开20T服务器依旧在90帧以上，最小帧1%也在60帧以上
但是一旦超过4人，20T根本就无法稳定了，8人运动基本在12~14T能基本在90帧以上，最小帧1%在50以上
以上性能测试为r5 3900x 测试，云服高特情况可能还要打个7折起步
综上，正常情况下刷特应该已经不成为性能瓶颈，6人运动腾讯轻量云服12t基本达到瓶颈（预估）

# 结论
目前版本的难度还是相当大的，4特带一个新手的压力都不小，5特带一个新手难度就比较大了，6特带一个新手不靠卡克基本很难通过c2
所以建议新手玩家多玩玩4，5特之后再去6特混野